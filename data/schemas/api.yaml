---
name: api
type:
  record:
    comment:
      type: string
    dbs:
      type:
        sequenceof:
          record:
            index:
              type: string
            name:
              required: true
              type:
                ref: db
    flavors:
      type:
        schema: flavors
    frameworks:
      type:
        sequenceof:
          oneof:
          - literal: api
          - literal: env
          - literal: loader
    inputs:
      type:
        sequenceof:
          sequenceof:
            record:
              default:
                type:
                  schema: any
              innerType:
                type: string
              mixin:
                type: string
              name:
                type: string
              nilable:
                type: boolean
              type:
                required: true
                type:
                  oneof:
                  - literal: bool
                  - literal: number
                  - literal: string
                  - literal: table
                  - literal: unit
                  - literal: unknown
                  - ref: structure
    name:
      required: true
      type: string
    outputs:
      type:
        sequenceof:
          record:
            default:
              type:
                schema: any
            innerType:
              type:
                oneof:
                - literal: bool
                - literal: number
                - literal: string
                - literal: table
                - literal: unknown
                - ref: structure
            mixin:
              type: string
            name:
              type: string
            nilable:
              type: boolean
            stub:
              type:
                schema: any
            type:
              required: true
              type:
                oneof:
                - literal: bool
                - literal: nil
                - literal: number
                - literal: oneornil
                - literal: string
                - literal: table
                - literal: unknown
                - ref: structure
    protection:
      type:
        oneof:
        - literal: hardware
        - literal: secure
    states:
      type:
        sequenceof:
          ref: state
    status:
      required: true
      type:
        oneof:
        - literal: autogenerated
        - literal: implemented
        - literal: unimplemented
